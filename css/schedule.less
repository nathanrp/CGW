// schedule

.schedules, .schedule {
	position: relative;
	width: 100%;
	margin: 0 0 24px;
	.columns {
		z-index: 1;
		&.days {
			position: absolute;
			left: 0;
			top: 0;
			right: 0;
			bottom: 0;
			width: 100%;
			height: 100%;
			.flex-display();
			.flex-direction();
			.clients, .day {
				.flex(0 0 auto);
				.box-shadow(-1px 0 0 @ltgray inset);
				align-items: stretch;
				&:last-child {
					.box-shadow(none);
				}
			}
		}
	}
	.rows {
		z-index: 2;
		position: relative;
		&.days, .dates {
			.flex-display();
			.flex-direction();
			.clients, .day {
				.flex(0 0 auto);
				.box-shadow(0 -2px 0 @ltgray inset);
				align-items: stretch;
				text-align: center;
				padding: 12px;
				text-transform: uppercase;
				font-weight: 600;
				font-size: 14px;
				letter-spacing: 1px;
				color: @gray;
			}
		}
		&.clients, &.client, &.weeks {
			.schedule, .week {
				.flex-display();
				.flex-direction();
				.box-shadow(0 -1px 0 @ltgray inset);
				.client, .day {
					.flex(0 0 auto);
					align-items: stretch;
					display: block;
				}
				.client {
					padding: 6px;
					.avatar {
						border-radius: 50%;
						overflow: hidden;
						max-width: 144px;
						margin: 6px auto;
						img {
							display: block;
							width: 100%;
						}
					}
				}
				.day {
					position: relative;
					&.past {
						.shift {
							.opacity(.5);
							&.current {
								.opacity(1);
							}
						}
					}
					&:hover {
						&.past {
							.shift {
								.opacity(1);
							}
						}
					}
					.shift {
						font-size: 14px;
						.box-shadow(0 -1px 0 @ltgray inset);
						padding: 12px;
						margin: 0 1px 6px 0;
						background: @bg;
						display: block;
						.time, .caregiver {
							display: block;
						}
						.time {
							font-weight: 500;
							font-size: 13px;
						}
						&:last-child {
							.box-shadow(none);
						}
						&.needs-caregiver {
							.box-shadow(4px 0 0 @ltyell inset,0 -1px 0 @ltgray inset;);
						}
						&.missed {
							.box-shadow(4px 0 0 @red inset,0 -1px 0 @ltgray inset;);
							.caregiver, .time {
								color: @red;
							}
						}
						&.switched {
							.box-shadow(4px 0 0 @gray inset);
						}
					}
					&.days-2 {
						.day-2 {
							margin-left: percentage(1/2);
						}
					}
					&.days-3 {
						.day-2 {
							margin-left: percentage(1/3);
						}
						.day-3 {
							margin-left: percentage(2/3);
						}
					}
					&.days-4 {
						.day-2 {
							margin-left: percentage(1/4);
						}
						.day-3 {
							margin-left: percentage(1/2);
						}
						.day-4 {
							margin-left: percentage(3/4);
						}
					}
					&.days-5 {
						.day-2 {
							margin-left: percentage(1/5);
						}
						.day-3 {
							margin-left: percentage(2/5);
						}
						.day-4 {
							margin-left: percentage(3/5);
						}
						.day-5 {
							margin-left: percentage(4/5);
						}
					}
					&.days-6 {
						.day-2 {
							margin-left: percentage(1/6);
						}
						.day-3 {
							margin-left: percentage(1/3);
						}
						.day-4 {
							margin-left: percentage(1/2);
						}
						.day-5 {
							margin-left: percentage(2/3);
						}
						.day-6 {
							margin-left: percentage(5/6);
						}
					}
					&.days-7 {
						.day-2 {
							margin-left: percentage(1/7);
						}
						.day-3 {
							margin-left: percentage(2/7);
						}
						.day-4 {
							margin-left: percentage(3/7);
						}
						.day-5 {
							margin-left: percentage(4/7);
						}
						.day-6 {
							margin-left: percentage(5/7);
						}
						.day-7 {
							margin-left: percentage(6/7);
						}
					}
				}
			}
		}
		&.clients {
			.schedule {
				.client, .day {
					width: percentage(1/8);
				}
				.day {
					&.days-2 {
						width: percentage(2/8);
					}
					&.days-3 {
						width: percentage(3/8);
					}
					&.days-4 {
						width: percentage(4/8);
					}
					&.days-5 {
						width: percentage(5/8);
					}
					&.days-6 {
						width: percentage(6/8);
					}
					&.days-7 {
						width: percentage(7/8);
					}
				}
			}
		}
		&.client, &.weeks {
			.schedule, .week {
				.day {
					width: percentage(1/7);
					&.days-2 {
						width: percentage(2/7);
					}
					&.days-3 {
						width: percentage(3/7);
					}
					&.days-4 {
						width: percentage(4/7);
					}
					&.days-5 {
						width: percentage(5/7);
					}
					&.days-6 {
						width: percentage(6/7);
					}
					&.days-7 {
						width: percentage(7/7);
					}
				}
			}
		}
	}
}

.schedules {
	.columns {
		&.days {
			.clients, .day {
				width: percentage(1/8);
			}
		}
	}
	.rows {
		&.days {
			.clients, .day {
				width: percentage(1/8);
			}
		}
	}
}

.schedule {
	.columns {
		&.days {
			.clients, .day {
				width: percentage(1/7);
			}
		}
	}
	.rows {
		&.days, .dates {
			.clients, .day, .date {
				width: percentage(1/7);
			}
		}
		&.weeks {
			.week {
				
			}
		}
	}
	&.month {
		.rows {
			.dates {
				position: absolute;
				width: 100%;
				height: 100%;
				.date {
					font-size: 13px;
					font-weight: 500;
					padding: 0 3px;
					&.past {
						.opacity(.5);
					}
					&.today {
						.box-shadow(inset 0 0 0 2px fadeout(@btgreen,50%));
					}
				}
			}
			.week {
				.day {
					padding-top: 24px;
					min-height: 72px;
					.shift {
						overflow: hidden;
						white-space: nowrap;
						padding: 0px 6px 3px;
						margin-bottom: 1px;
						.time, .caregiver {
							display: inline-block;
							&.feedback {
								
							}
						}
					}
				}
			}
		}
	}
}